{"version":3,"sources":["images/profile.jpg","Profile.js","Sensor.js","Alarm.js","TH.js","App.js","index.js"],"names":["Display","update","setUpdate","data","className","src","pro_img","name","age","mobile","blood","address","disease","Button","onClick","variant","EditPage","profileData","useState","setData","onSubmit","e","preventDefault","axios","put","value","onChange","copy","target","token","type","Profile","useEffect","get","then","a","res","catch","Error","console","log","Pageupdate","socket","io","connect","Message","result","h","hour","m","min","s","sec","key","push","Sensor","sensorData","setSensorData","map","Map","transform","emit","on","lastData","length","undefined","clearTimeout","transKey","times","id","timeoutID","setTimeout","message","reqAPI","set","idx","Obj","setTimes","setHourMin","Alarm","_id","Math","floor","toString","padStart","display","TH","title","data1","LineChart","width","window","outerWidth","height","margin","top","bottom","CartesianGrid","strokeDasharray","XAxis","dataKey","YAxis","yAxisId","domain","orientation","Tooltip","Legend","Line","stroke","activeDot","r","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.97d37973.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/profile.d81d54ad.jpg\";","import './profile.css';\r\nimport pro_img from './images/profile.jpg'\r\nimport { useEffect, useState } from 'react';\r\nimport { Button } from 'react-bootstrap'\r\nimport axios from 'axios';\r\n\r\nfunction Profile() {\r\n  const [update, setUpdate] = useState(true);\r\n  const [profileData, setData] = useState('');\r\n\r\n\r\n  useEffect(() => {\r\n    axios.get('/profile').then(async (res) => {\r\n\r\n      setData(res.data[0]);\r\n\r\n    }).catch((Error) => {\r\n      console.log(Error);\r\n    })\r\n  }, [update])\r\n\r\n  return (\r\n    <div className='profile'>\r\n      <section className='title'>\r\n        <h4>Profile</h4>\r\n      </section>\r\n      {\r\n        update\r\n          ? <Display update={update} setUpdate={setUpdate} data={profileData} />\r\n          : <EditPage Pageupdate={update} setUpdate={setUpdate} profileData={profileData} />\r\n      }\r\n\r\n    </div>\r\n\r\n  )\r\n}\r\n\r\nfunction Display({ update, setUpdate, data }) {\r\n  return (\r\n    <section className='card'>\r\n      <article className='profile-img'>\r\n        <img src={pro_img} className='profile-img' />\r\n      </article>\r\n      <article className='info'>\r\n        <ul>\r\n          <hr />\r\n          <li><h5>Name:</h5>{data.name}</li><hr />\r\n          <li><h5>Age:</h5>{data.age}</li><hr />\r\n          <li><h5>Mobile:</h5>{data.mobile}</li><hr />\r\n          <li><h5>Blood Type:</h5>{data.blood}</li><hr />\r\n          <li><h5>Adrress:</h5>{data.address}</li><hr />\r\n          <li><h5>Disease:</h5>{data.disease}</li><hr />\r\n\r\n        </ul>\r\n        <Button className='btn' onClick={() => { setUpdate(!update) }} variant=\"outline-success\">Edit</Button>{' '}\r\n      </article>\r\n    </section>\r\n  )\r\n}\r\nfunction EditPage({ update, setUpdate, profileData }) {\r\n  const [data, setData] = useState(profileData);\r\n\r\n  const submitHandler = (e) => {\r\n\r\n    e.preventDefault();\r\n    setUpdate(!update)\r\n    axios.put('/profile', data)\r\n\r\n  };\r\n  return (\r\n    <section className='card'>\r\n      <article className='profile-img'>\r\n        <img src={pro_img} className='profile-img' />\r\n      </article>\r\n      <article className='info'>\r\n        <form onSubmit={submitHandler}>\r\n          <ul>\r\n            <hr />\r\n            <li><h5>Name:</h5><input value={data.name} onChange={(e) => { const copy = { ...data }; copy.name = e.target.value; setData(copy) }} /></li><hr />\r\n            <li><h5>Age:</h5><input value={data.age} onChange={(e) => { const copy = { ...data }; copy.age = e.target.value; setData(copy) }} /></li><hr />\r\n            <li><h5>Mobile:</h5><input value={data.mobile} onChange={(e) => { const copy = { ...data }; copy.mobile = e.target.value; setData(copy) }} /></li><hr />\r\n            <li><h5>Blood Type:</h5><input value={data.blood} onChange={(e) => { const copy = { ...data }; copy.blood = e.target.value; setData(copy) }} /></li><hr />\r\n            <li><h5>Adrress:</h5><input value={data.address} onChange={(e) => { const copy = { ...data }; copy.address = e.target.value; setData(copy) }} /></li><hr />\r\n            <li><h5>Disease:</h5><input value={data.disease} onChange={(e) => { const copy = { ...data }; copy.disease = e.target.value; setData(copy) }} /></li><hr />\r\n            <li><h5>API key:</h5><input value={data.token} onChange={(e) => { const copy = { ...data }; copy.token = e.target.value; setData(copy) }} /></li><hr />\r\n          </ul>\r\n          <Button className='btn' type='submit' variant=\"outline-primary\">Update</Button>\r\n        </form>\r\n\r\n      </article>\r\n    </section>\r\n  )\r\n}\r\nexport default Profile;\r\n","import { useEffect, useState } from 'react'\r\nimport './sensor.css';\r\nimport axios from 'axios'\r\nimport io from 'socket.io-client';\r\nconst socket = io.connect('https://smartcare.loca.lt')\r\n\r\n\r\nfunction Sensor() {\r\n\r\n  const [sensorData, setSensorData] = useState([])\r\n  const map = new Map();\r\n  const transform = {\r\n    '현관문 움직임 감지': '거실 적외선 센서',\r\n    '방문 움직임 감지': '방 적외선 센서',\r\n    '화장실문 움직임 감지': '화장실 적외선 센서',\r\n    '거실 인체 감지': '거실 인체감지 센서',\r\n    '방 인체 감지': '방 인체감지 센서',\r\n    '화장실 인체 감지': '화장실 인체감지 센서',\r\n  }\r\n\r\n  useEffect(() => {\r\n\r\n    socket.emit(\"roomjoin\", 'sensor');\r\n    socket.on('data', () => {\r\n\r\n      axios.get('/data').then(async (res) => {\r\n        const lastData = res.data[res.data.length - 1];\r\n\r\n\r\n        for (const key in lastData) {\r\n\r\n          if (key === '_id' || key === 'hour' || key === 'min' || key === 'sec') continue;\r\n          if (map.get(key) !== undefined) {\r\n            clearTimeout(map.get(key));\r\n          }\r\n          const transKey = transform[key];\r\n\r\n          const times = await axios.get('/alarm')\r\n\r\n          const token = await axios.get('/profile');\r\n\r\n          const id = await axios.get(`https://api.telegram.org/bot${token.data[0]['token']}/getUpdates`);\r\n\r\n          const timeoutID = setTimeout(() => {\r\n\r\n            const message = key;\r\n            const reqAPI = `https://api.telegram.org/bot${token.data[0]['token']}/sendmessage?chat_id=${id['data']['result'][0]['message']['chat']['id']}&text=${message}`\r\n            axios.get(reqAPI)\r\n          }, times.data[0][transKey] * 60000);\r\n          map.set(key, timeoutID);\r\n\r\n        }\r\n        setSensorData(res.data);\r\n      }).catch((Error) => {\r\n        console.log(Error);\r\n      })\r\n    });\r\n  }, [])\r\n\r\n\r\n\r\n\r\n\r\n\r\n  return (\r\n    <div className='sensor'>\r\n      <section className='title'>\r\n        <h4>Sensor Log</h4>\r\n      </section>\r\n      <section className='logs'>\r\n        {\r\n          sensorData.map((data, idx) => {\r\n            return (\r\n              <Message key={idx} data={data} />\r\n            )\r\n          })\r\n        }\r\n      </section>\r\n    </div>\r\n\r\n  )\r\n}\r\nfunction Message({ data }) {\r\n  const result = [];\r\n  const h = data.hour;\r\n  const m = data.min;\r\n  const s = data.sec;\r\n  for (const key in data) {\r\n    if (key === '_id' || key === 'hour' || key === 'min' || key === 'sec') continue\r\n    if (data[key] === 0) {\r\n      result.push(\r\n        <div className='message' >\r\n          <h5>{key}</h5>\r\n          <h6>{`${h}:${m}:${s}`}</h6>\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n  return result;\r\n}\r\nexport default Sensor;\r\n","import { useEffect } from 'react'\r\nimport { Button } from 'react-bootstrap'\r\nimport axios from 'axios'\r\nimport './Alarm.css'\r\nfunction Alarm({ times, setTimes }) {\r\n\r\n  const btnHandler = (e) => {\r\n    e.preventDefault();\r\n\r\n    axios.put('/alarm', times)\r\n      .then((res) => { setTimes(res.data); });\r\n  };\r\n\r\n  useEffect(() => {\r\n    axios.get('/alarm').then((res) => {\r\n\r\n      delete res.data[0]._id;\r\n      setTimes(res.data[0]);\r\n    }).catch((Error) => {\r\n      console.log(Error);\r\n    })\r\n  }, [])\r\n\r\n\r\n\r\n  function display(times) {\r\n    const result = [];\r\n    for (const key in times) {\r\n      result.push(\r\n        <Obj key={key} name={key} times={times} h={Math.floor(times[key] / 60).toString().padStart(2, '0')} m={(times[key] % 60).toString().padStart(2, '0')} setTimes={setTimes} />\r\n      )\r\n    }\r\n    return result;\r\n  }\r\n\r\n  return (\r\n    <div className='alarm'>\r\n      <section className='title'>\r\n        <h4>Alarm setting</h4>\r\n      </section>\r\n\r\n      <section className='sensor-value-settings'>\r\n        {display(times)}\r\n      </section>\r\n      <Button className='save-btn' variant=\"primary\" onClick={btnHandler}>Update</Button>\r\n    </div>\r\n\r\n  )\r\n}\r\n\r\nfunction Obj({ name, h, m, setTimes, times }) {\r\n  function setHourMin(name, value, setTimes) {\r\n    const copy = { ...times };\r\n    switch (value) {\r\n      case 'hp':\r\n        copy[name] += 60;\r\n        setTimes(copy);\r\n        break;\r\n      case 'hm':\r\n        if (copy[name] < 60) copy[name] = 0\r\n        else copy[name] -= 60;\r\n        setTimes(copy);\r\n        break;\r\n      case 'mp':\r\n        copy[name] += 10;\r\n        setTimes(copy);\r\n        break;\r\n      case 'mm':\r\n        if (copy[name] < 10) copy[name] = 0\r\n        else copy[name] -= 10;\r\n        setTimes(copy);\r\n        break;\r\n\r\n    }\r\n\r\n  }\r\n  return (\r\n    <article className='obj'>\r\n      <div className='info'>\r\n        <h6>{name}</h6>\r\n      </div>\r\n      <div className='time-btn'>\r\n        <div className='time'>\r\n          <h4>{h}:{m}</h4>\r\n        </div>\r\n        <div className='btn-group'>\r\n          <div className='btns'>\r\n            <Button onClick={() => { setHourMin(name, 'hp', setTimes) }} variant=\"outline-primary\">+</Button>\r\n            <Button onClick={() => { setHourMin(name, 'hm', setTimes) }} variant=\"outline-primary\">-</Button>\r\n          </div>\r\n          <div className='btns'>\r\n            <Button onClick={() => { setHourMin(name, 'mp', setTimes) }} variant=\"outline-success\">+</Button>\r\n            <Button onClick={() => { setHourMin(name, 'mm', setTimes) }} variant=\"outline-success\">-</Button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n    </article>\r\n  )\r\n}\r\nexport default Alarm;\r\n","import './TH.css'\r\nimport {\r\n  LineChart,\r\n  Line,\r\n  XAxis,\r\n  YAxis,\r\n  CartesianGrid,\r\n  Tooltip,\r\n  Legend\r\n} from \"recharts\";\r\nimport axios from 'axios';\r\nimport { useEffect, useState } from 'react';\r\n\r\nexport default function TH({ title, data1 }) {\r\n  const [data, setData] = useState([]);\r\n  useEffect(() => {\r\n    axios.get('/th1').then((res) => {\r\n      setData(res.data);\r\n    }).catch((Error) => {\r\n      console.log(Error);\r\n    })\r\n  }, [])\r\n\r\n  return (\r\n    <div className='TH'>\r\n      <section className='title'>\r\n        <h4>{title}</h4>\r\n      </section>\r\n      <section className=\"chart\">\r\n\r\n        <LineChart\r\n          width={window.outerWidth > 769 ? 500 : window.outerWidth - 40}\r\n          height={300}\r\n          data={data}\r\n          margin={{\r\n            top: 5,\r\n\r\n            bottom: 5\r\n          }}\r\n        >\r\n          <CartesianGrid strokeDasharray=\"3 3\" />\r\n          <XAxis dataKey=\"time\" />\r\n          <YAxis yAxisId=\"left\" type=\"number\" domain={[40, 80]} />\r\n          <YAxis yAxisId=\"right\" orientation=\"right\" type=\"number\" domain={[20, 35]} />\r\n          <Tooltip />\r\n          <Legend />\r\n          <Line\r\n            yAxisId=\"left\"\r\n            type=\"monotone\"\r\n            dataKey=\"humidity\"\r\n            stroke=\"#8884d8\"\r\n            activeDot={{ r: 2 }}\r\n          />\r\n          <Line yAxisId=\"right\" type=\"monotone\" dataKey=\"temperature\" stroke=\"#82ca9d\" />\r\n        </LineChart>\r\n      </section>\r\n\r\n    </div>\r\n\r\n  );\r\n}\r\n\r\n","import './App.css';\nimport Profile from './Profile'\nimport Sensor from './Sensor'\nimport Alarm from './Alarm';\nimport TH from './TH'\nimport { useState } from 'react';\n\nfunction App() {\n  const [times, setTimes] = useState('')\n  return (\n    <div className=\"App\">\n      <header className='header'><h2>Smart care</h2></header>\n      <main>\n        <article className='widget'>\n          <Profile />\n        </article>\n        <article className='widget'>\n          <Sensor />\n        </article>\n        <article className='widget' >\n          <Alarm times={times} setTimes={setTimes} />\n        </article>\n        <article className='widget'>\n          <TH title='Living room' />\n        </article>\n        <article className='widget'>\n          <TH title='Room' />\n        </article>\n        <article className='widget'>\n\n        </article>\n      </main>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}