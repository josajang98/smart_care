(this.webpackJsonpsmartcare=this.webpackJsonpsmartcare||[]).push([[0],{206:function(e,t,c){},207:function(e,t,c){},209:function(e,t,c){},229:function(e,t,c){},259:function(e,t,c){},260:function(e,t,c){},395:function(e,t,c){"use strict";c.r(t);var a=c(0),s=c.n(a),n=c(89),i=c.n(n),r=(c(206),c(15)),j=(c(207),c(37)),l=c(25),o=c.n(l),d=c(92),b=(c(209),c.p+"static/media/profile.d81d54ad.jpg"),h=c(403),u=c(23),O=c.n(u),x=c(2);function m(e){var t=e.update,c=e.setUpdate,a=e.data;return Object(x.jsxs)("section",{className:"card",children:[Object(x.jsx)("article",{className:"profile-img",children:Object(x.jsx)("img",{src:b,className:"profile-img"})}),Object(x.jsxs)("article",{className:"info",children:[Object(x.jsxs)("ul",{children:[Object(x.jsx)("hr",{}),Object(x.jsxs)("li",{children:[Object(x.jsx)("h5",{children:"Name:"}),a.name]}),Object(x.jsx)("hr",{}),Object(x.jsxs)("li",{children:[Object(x.jsx)("h5",{children:"Age:"}),a.age]}),Object(x.jsx)("hr",{}),Object(x.jsxs)("li",{children:[Object(x.jsx)("h5",{children:"Mobile:"}),a.mobile]}),Object(x.jsx)("hr",{}),Object(x.jsxs)("li",{children:[Object(x.jsx)("h5",{children:"Blood Type:"}),a.blood]}),Object(x.jsx)("hr",{}),Object(x.jsxs)("li",{children:[Object(x.jsx)("h5",{children:"Adrress:"}),a.address]}),Object(x.jsx)("hr",{}),Object(x.jsxs)("li",{children:[Object(x.jsx)("h5",{children:"Disease:"}),a.disease]}),Object(x.jsx)("hr",{})]}),Object(x.jsx)(h.a,{className:"btn",onClick:function(){c(!t)},variant:"outline-success",children:"Edit"})," "]})]})}function f(e){var t=e.update,c=e.setUpdate,s=e.profileData,n=Object(a.useState)(s),i=Object(r.a)(n,2),l=i[0],o=i[1];return Object(x.jsxs)("section",{className:"card",children:[Object(x.jsx)("article",{className:"profile-img",children:Object(x.jsx)("img",{src:b,className:"profile-img"})}),Object(x.jsx)("article",{className:"info",children:Object(x.jsxs)("form",{onSubmit:function(e){e.preventDefault(),c(!t),O.a.put("/profile",l)},children:[Object(x.jsxs)("ul",{children:[Object(x.jsx)("hr",{}),Object(x.jsxs)("li",{children:[Object(x.jsx)("h5",{children:"Name:"}),Object(x.jsx)("input",{value:l.name,onChange:function(e){var t=Object(j.a)({},l);t.name=e.target.value,o(t)}})]}),Object(x.jsx)("hr",{}),Object(x.jsxs)("li",{children:[Object(x.jsx)("h5",{children:"Age:"}),Object(x.jsx)("input",{value:l.age,onChange:function(e){var t=Object(j.a)({},l);t.age=e.target.value,o(t)}})]}),Object(x.jsx)("hr",{}),Object(x.jsxs)("li",{children:[Object(x.jsx)("h5",{children:"Mobile:"}),Object(x.jsx)("input",{value:l.mobile,onChange:function(e){var t=Object(j.a)({},l);t.mobile=e.target.value,o(t)}})]}),Object(x.jsx)("hr",{}),Object(x.jsxs)("li",{children:[Object(x.jsx)("h5",{children:"Blood Type:"}),Object(x.jsx)("input",{value:l.blood,onChange:function(e){var t=Object(j.a)({},l);t.blood=e.target.value,o(t)}})]}),Object(x.jsx)("hr",{}),Object(x.jsxs)("li",{children:[Object(x.jsx)("h5",{children:"Adrress:"}),Object(x.jsx)("input",{value:l.address,onChange:function(e){var t=Object(j.a)({},l);t.address=e.target.value,o(t)}})]}),Object(x.jsx)("hr",{}),Object(x.jsxs)("li",{children:[Object(x.jsx)("h5",{children:"Disease:"}),Object(x.jsx)("input",{value:l.disease,onChange:function(e){var t=Object(j.a)({},l);t.disease=e.target.value,o(t)}})]}),Object(x.jsx)("hr",{}),Object(x.jsxs)("li",{children:[Object(x.jsx)("h5",{children:"API key:"}),Object(x.jsx)("input",{value:l.token,onChange:function(e){var t=Object(j.a)({},l);t.token=e.target.value,o(t)}})]}),Object(x.jsx)("hr",{})]}),Object(x.jsx)(h.a,{className:"btn",type:"submit",variant:"outline-primary",children:"Update"})]})})]})}var p=function(){var e=Object(a.useState)(!0),t=Object(r.a)(e,2),c=t[0],s=t[1],n=Object(a.useState)(""),i=Object(r.a)(n,2),j=i[0],l=i[1];return Object(a.useEffect)((function(){O.a.get("/profile").then(function(){var e=Object(d.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l(t.data[0]);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)}))}),[c]),Object(x.jsxs)("div",{className:"profile",children:[Object(x.jsx)("section",{className:"title",children:Object(x.jsx)("h4",{children:"Profile"})}),c?Object(x.jsx)(m,{update:c,setUpdate:s,data:j}):Object(x.jsx)(f,{Pageupdate:c,setUpdate:s,profileData:j})]})},v=(c(229),c(179)),g=c.n(v).a.connect("https://smartcare.loca.lt");function N(e){var t=e.data,c=[],a=t.hour,s=t.min,n=t.sec;for(var i in t)"_id"!==i&&"hour"!==i&&"min"!==i&&"sec"!==i&&0===t[i]&&c.push(Object(x.jsxs)("div",{className:"message",children:[Object(x.jsx)("h5",{children:i}),Object(x.jsx)("h6",{children:"".concat(a,":").concat(s,":").concat(n)})]}));return c}var k=function(){var e=Object(a.useState)([]),t=Object(r.a)(e,2),c=t[0],s=t[1],n=new Map,i={"\ud604\uad00\ubb38 \uc6c0\uc9c1\uc784 \uac10\uc9c0":"\uac70\uc2e4 \uc801\uc678\uc120 \uc13c\uc11c","\ubc29\ubb38 \uc6c0\uc9c1\uc784 \uac10\uc9c0":"\ubc29 \uc801\uc678\uc120 \uc13c\uc11c","\ud654\uc7a5\uc2e4\ubb38 \uc6c0\uc9c1\uc784 \uac10\uc9c0":"\ud654\uc7a5\uc2e4 \uc801\uc678\uc120 \uc13c\uc11c","\uac70\uc2e4 \uc778\uccb4 \uac10\uc9c0":"\uac70\uc2e4 \uc778\uccb4\uac10\uc9c0 \uc13c\uc11c","\ubc29 \uc778\uccb4 \uac10\uc9c0":"\ubc29 \uc778\uccb4\uac10\uc9c0 \uc13c\uc11c","\ud654\uc7a5\uc2e4 \uc778\uccb4 \uac10\uc9c0":"\ud654\uc7a5\uc2e4 \uc778\uccb4\uac10\uc9c0 \uc13c\uc11c"};return Object(a.useEffect)((function(){g.emit("roomjoin","sensor"),g.on("data",(function(){O.a.get("/data").then(function(){var e=Object(d.a)(o.a.mark((function e(t){var c,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=t.data[t.data.length-1],a=o.a.mark((function e(t){var c,a,s,r,j;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("_id"!==t&&"hour"!==t&&"min"!==t&&"sec"!==t){e.next=2;break}return e.abrupt("return","continue");case 2:return void 0!==n.get(t)&&clearTimeout(n.get(t)),c=i[t],e.next=6,O.a.get("/alarm");case 6:return a=e.sent,e.next=9,O.a.get("/profile");case 9:return s=e.sent,e.next=12,O.a.get("https://api.telegram.org/bot".concat(s.data[0].token,"/getUpdates"));case 12:r=e.sent,j=setTimeout((function(){var e=t,c="https://api.telegram.org/bot".concat(s.data[0].token,"/sendmessage?chat_id=").concat(r.data.result[0].message.chat.id,"&text=").concat(e);O.a.get(c)}),6e4*a.data[0][c]),n.set(t,j);case 15:case"end":return e.stop()}}),e)})),e.t0=o.a.keys(c);case 3:if((e.t1=e.t0()).done){e.next=11;break}return r=e.t1.value,e.delegateYield(a(r),"t2",6);case 6:if("continue"!==e.t2){e.next=9;break}return e.abrupt("continue",3);case 9:e.next=3;break;case 11:s(t.data);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)}))}))}),[]),Object(x.jsxs)("div",{className:"sensor",children:[Object(x.jsx)("section",{className:"title",children:Object(x.jsx)("h4",{children:"Sensor Log"})}),Object(x.jsx)("section",{className:"logs",children:c.map((function(e,t){return Object(x.jsx)(N,{data:e},t)}))})]})};c(259);function y(e){var t=e.name,c=e.h,a=e.m,s=e.setTimes,n=e.times;function i(e,t,c){var a=Object(j.a)({},n);switch(t){case"hp":a[e]+=60,c(a);break;case"hm":a[e]<60?a[e]=0:a[e]-=60,c(a);break;case"mp":a[e]+=10,c(a);break;case"mm":a[e]<10?a[e]=0:a[e]-=10,c(a)}}return Object(x.jsxs)("article",{className:"obj",children:[Object(x.jsx)("div",{className:"info",children:Object(x.jsx)("h6",{children:t})}),Object(x.jsxs)("div",{className:"time-btn",children:[Object(x.jsx)("div",{className:"time",children:Object(x.jsxs)("h4",{children:[c,":",a]})}),Object(x.jsxs)("div",{className:"btn-group",children:[Object(x.jsxs)("div",{className:"btns",children:[Object(x.jsx)(h.a,{onClick:function(){i(t,"hp",s)},variant:"outline-primary",children:"+"}),Object(x.jsx)(h.a,{onClick:function(){i(t,"hm",s)},variant:"outline-primary",children:"-"})]}),Object(x.jsxs)("div",{className:"btns",children:[Object(x.jsx)(h.a,{onClick:function(){i(t,"mp",s)},variant:"outline-success",children:"+"}),Object(x.jsx)(h.a,{onClick:function(){i(t,"mm",s)},variant:"outline-success",children:"-"})]})]})]})]})}var w=function(e){var t=e.times,c=e.setTimes;return Object(a.useEffect)((function(){O.a.get("/alarm").then((function(e){delete e.data[0]._id,c(e.data[0])})).catch((function(e){console.log(e)}))}),[]),Object(x.jsxs)("div",{className:"alarm",children:[Object(x.jsx)("section",{className:"title",children:Object(x.jsx)("h4",{children:"Alarm setting"})}),Object(x.jsx)("section",{className:"sensor-value-settings",children:function(e){var t=[];for(var a in e)t.push(Object(x.jsx)(y,{name:a,times:e,h:Math.floor(e[a]/60).toString().padStart(2,"0"),m:(e[a]%60).toString().padStart(2,"0"),setTimes:c},a));return t}(t)}),Object(x.jsx)(h.a,{className:"save-btn",variant:"primary",onClick:function(e){e.preventDefault(),O.a.put("/alarm",t).then((function(e){c(e.data)}))},children:"Update"})]})},S=(c(260),c(397)),C=c(401),A=c(193),T=c(194),D=c(79),U=c(76),E=c(196);function I(e){var t=e.title,c=(e.data1,Object(a.useState)([])),s=Object(r.a)(c,2),n=s[0],i=s[1];return Object(a.useEffect)((function(){O.a.get("/th1").then((function(e){i(e.data)})).catch((function(e){console.log(e)}))}),[]),Object(x.jsxs)("div",{className:"TH",children:[Object(x.jsx)("section",{className:"title",children:Object(x.jsx)("h4",{children:t})}),Object(x.jsx)("section",{className:"chart",children:Object(x.jsxs)(S.a,{width:window.outerWidth>769?500:window.outerWidth-40,height:300,data:n,margin:{top:5,bottom:5},children:[Object(x.jsx)(C.a,{strokeDasharray:"3 3"}),Object(x.jsx)(A.a,{dataKey:"time"}),Object(x.jsx)(T.a,{yAxisId:"left",type:"number",domain:[40,80]}),Object(x.jsx)(T.a,{yAxisId:"right",orientation:"right",type:"number",domain:[20,35]}),Object(x.jsx)(D.a,{}),Object(x.jsx)(U.a,{}),Object(x.jsx)(E.a,{yAxisId:"left",type:"monotone",dataKey:"humidity",stroke:"#8884d8",activeDot:{r:2}}),Object(x.jsx)(E.a,{yAxisId:"right",type:"monotone",dataKey:"temperature",stroke:"#82ca9d"})]})})]})}var M=function(){var e=Object(a.useState)(""),t=Object(r.a)(e,2),c=t[0],s=t[1];return Object(x.jsxs)("div",{className:"App",children:[Object(x.jsx)("header",{className:"header",children:Object(x.jsx)("h2",{children:"Smart care"})}),Object(x.jsxs)("main",{children:[Object(x.jsx)("article",{className:"widget",children:Object(x.jsx)(p,{})}),Object(x.jsx)("article",{className:"widget",children:Object(x.jsx)(k,{})}),Object(x.jsx)("article",{className:"widget",children:Object(x.jsx)(w,{times:c,setTimes:s})}),Object(x.jsx)("article",{className:"widget",children:Object(x.jsx)(I,{title:"Living room"})}),Object(x.jsx)("article",{className:"widget",children:Object(x.jsx)(I,{title:"Room"})}),Object(x.jsx)("article",{className:"widget"})]})]})};i.a.render(Object(x.jsx)(s.a.StrictMode,{children:Object(x.jsx)(M,{})}),document.getElementById("root"))}},[[395,1,2]]]);
//# sourceMappingURL=main.97d37973.chunk.js.map